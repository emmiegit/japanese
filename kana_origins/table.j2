{% from 'ruby.j2' import render_ruby %}

{% macro build_table(entries) %}
| Kana | Kanji | Example Word | Definition |
|:----:|:-----:|:------------:|:----------:|
{% for entry in entries -%}
{% if entry.present %}{{ build_row(entry) }}{% else %}{{ build_empty_row(entry) }}{% endif %}
{% endfor %}
{%- endmacro %}

{% macro build_row(entry) -%}
| {{ entry.kana }} | {{ entry.kanji }} | {{ render_ruby(entry.ruby) }} | {{ entry.definition }} |
{%- endmacro %}

{% macro build_empty_row(entry) -%}
| {{ entry.kana }} | {{ entry.kanji }} | &mdash; | &mdash; |
{%- endmacro %}
